---
import { TITLE, NAVS } from "@/consts";
import MobileMenu from "@components/MobileMenu";

const { pathname } = Astro.url;

const currentDate = new Date();
const currentYear = currentDate.getFullYear();
---

<header class={`relative overflow-hidden h-full border-b md:border-b-0 border-sail-200`}>
  <div class="relative z-10 w-full px-0 py-1 md:py-0 md:h-[100vh]">
    <div class="flex md:flex-col items-center justify-between md:items-start md:justify-normal gap-6">
      <h4
        class="select-none text-3xl text-gray-800 font-bold tracking-tight mb-3 md:my-4 md:pt-3 px-6 transition duration-150 ease-out transform">
        <a
          href="/"
          class="flex gap-1 items-center whitespace-nowrap tracking-[.002em] hover:text-[--gray-dark]"
        >
            <span
              class="block font-eb-garamond font-bold"
            >
              {TITLE}
              <i class="block font-normal font-public-sans text-[12px] not-italic">
                Personal and Research Notes
              </i>
            </span>
        </a>
      </h4>

      <div class="navigation-menu sm:flex sm:flex-row sm:items-center">
        <MobileMenu client:load pathname={pathname} />

        <div class="hidden sm:block">
          <ul class="sm:flex md:block sm:flex-row">
            {NAVS.map((item) => {
              const isActive = item.href === pathname || item.href === pathname.replace(/\/$/, "") || pathname.startsWith("/posts") && item.href === "/";

              return (
                <li>
                  <a
                    href={`${item.href}`}
                    class={`relative text-gray-800 select-none w-full text-xs inline-block hover:underline transition duration-150 ease-out hover:opacity-100 py-2 px-6 ${
                      isActive ? `text-sail-500 underline` : ``
                    }`}
                  >
                    {item.label}
                  </a>
                </li>
              );
            })}
          </ul>
        </div>
      </div>
    </div>

    <div class="px-6 text-[11px] absolute bottom-10 hidden md:block">
      <span class="block">Â© {currentYear} Alfin Surya</span>
    </div>
  </div>
</header>
