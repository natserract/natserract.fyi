---
title: Mutex
date: 2024-05-27T16:00:00.000Z
---

“Mutex” is short-hand for “mutual exclusion”. Imagine there is a fork on the table. If your friend picks up the fork, you cannot pick it up until they put it down. Mutexes operate similarly in computers by ensuring that multiple processes don’t act on the same data at once. For more details: [https://blog.theodo.com/2019/09/handle-race-conditions-in-nodejs-using-mutex/](https://blog.theodo.com/2019/09/handle-race-conditions-in-nodejs-using-mutex/)

### Mutex Concept

There are some great answers here, here is another great analogy for explaining what mutex is:

Consider single toilet with a key. When someone enters, they take the key and the toilet is occupied. If someone else needs to use the toilet, they need to wait in a queue. When the person in the toilet is done, they pass the key to the next person in queue. Make sense, right?

Convert the toilet in the story to a shared resource, and the key to a mutex. Taking the key to the toilet (acquire a lock) permits you to use it. If there is no key (the lock is locked) you have to wait. When the key is returned by the person (release the lock) you're free to acquire it now.

### Mutex prevent race conditions

A race condition occurs when two or more threads can access shared data and they try to change it at the same time. Because the thread scheduling algorithm can swap between threads at any time, you don't know the order in which the threads will attempt to access the shared data. Therefore, the result of the change in data is dependent on the thread scheduling algorithm, i.e. both threads are "racing" to access/change the data.

### Mutex Tools (NodeJS)
- https://github.com/DirtyHairy/async-mutex

### Additional Reading:

* [https://medium.com/beyn-technology/mutex-for-dummies-a-building-block-for-payment-systems-6e54b6e12210](https://medium.com/beyn-technology/mutex-for-dummies-a-building-block-for-payment-systems-6e54b6e12210)
